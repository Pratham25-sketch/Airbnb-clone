<% layout("/layouts/boilerplate.ejs") %>
<body>
      <h1 style="text-align: center;">All Listings</h1>
      
    <ol>
       <% for(let list of listings){ %>

        <div class="card-body" style="display: inline-block;margin: 0.25rem;">
       <a class="card-info" href="/listings/<%=list._id%>"> <div class="card" style="border: none;">
   

  <img src="<%= list.image%>" class="card-img" alt="..." style="width: 14rem;height: 12rem;border-radius: 1.25rem;">
    <div class="card-img-overlay">
    <i class="fa-regular fa-heart" id="heart" style="color: white;font-size: 2rem;background-color:rgba(0, 0, 0, 0.4);border-radius: 50%;padding: 0.3rem;font-weight: bold;position: relative;left: 10rem;"></i>
  </div>
  <div class="card-body">
    <h5 class="card-title" style="font-size:0.80rem;margin: 0rem auto;margin-left: -1rem;margin-top: -1rem;"><%=list.title%></h5>
    <p class="card-text" style="opacity: 0.8;font-size: 0.79rem;margin: 0rem;margin-left: -1rem;"><%= list.price ? list.price.toLocaleString("en-IN") : "N/A" %> for 2 nights &middot; &#9733; <%= list.reviews.length ? (list.reviews.reduce((sum, r) => sum + r.rating, 0) / list.reviews.length).toFixed(1) : "No rating yet" %></p>
</a>
  </div>
</div>
</div>
          
      <% } %>
    </ol>
</body>
